# æ—¥ä¸­å­¦é™¢ NFT ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

[ğŸ‡ºğŸ‡¸ English](README.md) ã€€[ğŸ‡¯ğŸ‡µ **æ—¥æœ¬èª**](README.ja.md) ã€€[ğŸ‡¨ğŸ‡³ ä¸­æ–‡](README.cn.md)

---

ã€Œæ—¥ä¸­å­¦é™¢ãƒ‡ã‚¸ã‚¿ãƒ«ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€å­¦æ ¡ãŠã‚ˆã³ãã®å’æ¥­ç”Ÿå‘ã‘ã«ã€ãƒ‡ã‚¸ã‚¿ãƒ«ã‚³ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ãƒ«ã®ç™ºè¡Œã€è«‹æ±‚ã€ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ã®ãŸã‚ã®æŒç¶šå¯èƒ½ã§ä½ã‚³ã‚¹ãƒˆãªãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’æä¾›ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã‚‹ã€‚

ã‚¤ãƒ¼ã‚µãƒªã‚¢ãƒ ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ 2 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚‹ Optimismï¼ˆéå¸¸ã«ä½ã„ã‚¬ã‚¹æ–™é‡‘ï¼‰ä¸Šã«æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€ERC-1155 æ¨™æº–ã«åŸºã¥ãã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰å¯èƒ½ãªã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã€‚

ãƒ»è¤‡æ•°ã®ãƒ‡ã‚¸ã‚¿ãƒ«ã‚³ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ãƒ«ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ä½œæˆã‚’ã‚µãƒãƒ¼ãƒˆ

ãƒ»å„ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¯è¤‡æ•°ã®æ•°é‡ã«å¯¾å¿œå¯èƒ½ï¼ˆ1155 æ¨™æº–ã€NFTã€SFTï¼‰

ãƒ»å¤–éƒ¨ãƒªãƒ³ã‚¯ã‚’ä½¿ç”¨ã›ãšã€SVG ç”»åƒã‚’ç›´æ¥ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ã«ä¿å­˜ã™ã‚‹ã“ã¨ã‚’ã‚µãƒãƒ¼ãƒˆ

ãƒ»ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆã€ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ã€ç„¡æ–™è«‹æ±‚ã‚’ã‚µãƒãƒ¼ãƒˆ

ãƒ»ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰å¯èƒ½ï¼ˆUUPS ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰

---

### æ­£å¼ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹

Proxy ã‚¢ãƒ‰ãƒ¬ã‚¹: 0x9d291c7a50A3bF0980E732890177FD4e0998E13a  
Implementation ã‚¢ãƒ‰ãƒ¬ã‚¹: 0x4753eD9Ddb4eEE055D7103F0754DfA9c2dCC1053 (ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰å¾Œã«å¤‰æ›´ã•ã‚Œã¾ã™)

### ãƒ†ã‚¹ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹

ãƒ†ã‚¹ãƒˆç”¨ãƒ—ãƒ­ã‚­ã‚·ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆï¼š0x37d272B8d4f844c29eB05C5ABC8271E8f22cFeA3 (V1, æ‰€æœ‰è€…ã¯ Account1)  
ãƒ†ã‚¹ãƒˆç”¨ãƒ—ãƒ­ã‚­ã‚·ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆï¼š0x5866e3731E7d77781e9588C3A00c93EF7f5dEe2F (V1, æ‰€æœ‰è€…ã¯ Account2 ã§ã™ãŒã€Account1 ã¯å¼•ãç¶šãç®¡ç†è€…)

### ä½¿ç”¨æ‰‹é †ï¼ˆFoundry CLI ã‚³ãƒãƒ³ãƒ‰ï¼‰

| æ“ä½œ                               | ã‚³ãƒãƒ³ãƒ‰ä¾‹                                                                                                                                  |
| ---------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------- |
| **ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã§å…¨é–¢æ•°å®Ÿè¡Œ**   | `forge test -vvvv`                                                                                                                          |
| **åˆç‰ˆãƒ‡ãƒ—ãƒ­ã‚¤**                   | `forge script script/Deploy.s.sol:DeployScript --rpc-url <your_rpc_url> --broadcast --verify --etherscan-api-key <ETHERSCAN_API_KEY> -vvvv` |
| **äº’æ›æ€§ç¢ºèª**                     | `forge script script/Upgrade.s.sol:UpgradeScript --sig "validateUpgrade()" --rpc-url <your_rpc_url> --broadcast -vvvv`                      |
| **æ–°å®Ÿè£…ã®äº‹å‰ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆçœç•¥å¯ï¼‰** | `forge script script/Upgrade.s.sol:UpgradeScript --sig "prepareUpgrade()" --rpc-url ${your_rpc_url} --broadcast -vvvv`                      |
| **æ­£å¼ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰**             | `forge script script/Upgrade.s.sol:UpgradeScript --sig "upgradeTo()" --rpc-url ${your_rpc_url} --broadcast -vvvv`                           |
| `                                  |                                                                                                                                             |

ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ãŸã¯ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰å‰ã«ä»¥ä¸‹ã‚’å®Ÿè¡Œ

`forge clean && forge build `

å®Ÿéš›ã®ãƒ¡ã‚¤ãƒ³ãƒãƒƒãƒˆã§ç•°ãªã‚‹ã‚µã‚¤ã‚ºãƒ»å½¢å¼ã® SVG ã‚’ãƒ†ã‚¹ãƒˆã—ãŸéš›ã®ã‚¬ã‚¹æ¶ˆè²»é‡ï¼ˆãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ä¸Šé™ 3000 ä¸‡ï¼‰

| ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ | æ“ä½œ                     | Chunks | ã‚¬ã‚¹æ¶ˆè²»(ç¢ºå®šå€¤) | ä¾¡å€¤(ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çŠ¶æ³ã«ã‚ˆã‚Šå¤‰å‹•) |
| ---------------------------- | ------------------------ | ------ | ---------------- | -------------------------------- |
| Polygon                      | ãƒ‡ãƒ—ãƒ­ã‚¤                 | -      | 3,170,857        | 0.746498259310977786 POL         |
| Polygon                      | ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ         | -      | 116,477          | 0.037038327500328612 POL         |
| Polygon                      | 3.3 KB ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰      | 1      | 2,510,479        | 2.557224407104099114 POL         |
| Polygon                      | 22 KB ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰       | 1      | 15,649,101       | 1.742997666200924718 POL         |
| Polygon                      | ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰           | -      | 2,975,668        | 0.191769677865799832 POL         |
| **Optimism**                 | ãƒ‡ãƒ—ãƒ­ã‚¤                 | -      | 3,170,857        | **0.000000001854951345 ETH**     |
| **Optimism**                 | ãƒ‡ã‚¸ã‚¿ãƒ«ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ | -      | 116,453          | **0.000000000095724366 ETH**     |
| **Optimism**                 | 22 KB ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰       | 1      | 15,785,220       | **0.00000000672450372 ETH**      |
| **Optimism**                 | 57 KB ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰       | 2      | 20,106,850       | **0.00000107505294895 ETH**      |

## ğŸ§ª ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãƒ‡ãƒ¢

**ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼š** Anvilï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆãƒã‚§ãƒ¼ãƒ³ï¼‰  
**ãƒ—ãƒ­ã‚­ã‚·ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼š** `0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512`  
**V1 å®Ÿè£…ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼š** `0x5FbDB2315678afecb367f032d93F642f64180aa3`  
**åˆæœŸæ‰€æœ‰è€…ï¼š** `0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266`  
**ãƒ†ã‚¹ãƒˆ PK 0ï¼š** `0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80`  
**ãƒ†ã‚¹ãƒˆ PK 2ï¼š** `0x5de4111afa1a4b94908f83103eb1f1706367c2e68ca870fc3fb9a804cdab365a`

---

### ğŸ”¹ åŸºæœ¬çš„ãªå•ã„åˆã‚ã›ã¨æ“ä½œ

| æ“ä½œèª¬æ˜                             | ã‚³ãƒãƒ³ãƒ‰                                                                                                                                                                                                                                                                                                                               |
| ------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å–å¾—**     | `cast call 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 "getVersion() returns(string)" --rpc-url http://127.0.0.1:8545`                                                                                                                                                                                                                  |
| **æ–°ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ**               | `cast send 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 "createCollection(string,string,uint256,bool,bool)" "Nitchu Gakuin Digital Collection Test" "Nitchu Gakuin Digital Collection Description Test" 100 false true --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 --rpc-url http://127.0.0.1:8545` |
| **æ–°ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆï¼ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼‰** | `forge script script/CreateCollection.s.sol:CreateCollectionScript --rpc-url anvil --broadcast -vvvv`                                                                                                                                                                                                                                  |
| **ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æƒ…å ±å–å¾—**             | `cast call 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 "getCollectionInfo(uint256) returns (string,string,uint256,uint256,bool,bool,uint256,bool)" 1 --rpc-url http://127.0.0.1:8545`                                                                                                                                                   |
| **æ—¢ã«å—ã‘å–ã£ãŸã‹ç¢ºèª**             | `cast call 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 "hasClaimed(uint256,address)" 1 0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC --rpc-url http://127.0.0.1:8545`                                                                                                                                                                      |
| **NFT æ•°é‡ç¢ºèª**                     | `cast call 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 "balanceOf(address,uint256)" 0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC 1 --rpc-url http://127.0.0.1:8545`                                                                                                                                                                       |

---

### ğŸ”¹ NFT å—ã‘å–ã‚Šã¨ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

| æ“ä½œèª¬æ˜                           | ã‚³ãƒãƒ³ãƒ‰                                                                                                                                                                                               |
| ---------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **NFT å—ã‘å–ã‚Š**                   | `cast send 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 "claim(uint256)" 1 --private-key 0x5de4111afa1a4b94908f83103eb1f1706367c2e68ca870fc3fb9a804cdab365a --rpc-url http://127.0.0.1:8545`             |
| **NFT å—ã‘å–ã‚Šï¼ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼‰**     | `forge script script/Claim.s.sol:ClaimScript --rpc-url anvil --broadcast -vvvv`                                                                                                                        |
| **NFT ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ï¼ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼‰** | `forge script script/Airdrop.s.sol:AirdropScript --rpc-url anvil --broadcast -vvvv`                                                                                                                    |
| **SVG ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº†**           | `cast send 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 "finalizeSvgUpload(uint256)" 1 --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 --rpc-url http://127.0.0.1:8545` |
| **SVG ãƒ‡ãƒ¼ã‚¿å–å¾—**                 | `cast call 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 "getSvgData(uint256) returns(string)" 1 --rpc-url http://127.0.0.1:8545`                                                                         |

---

### ğŸ”¹ æ¨©é™ãƒ»ç®¡ç†é–¢é€£

| æ“ä½œèª¬æ˜                                         | ã‚³ãƒãƒ³ãƒ‰                                                                                                                                             |
| ------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆæ‰€æœ‰è€…ç¢ºèª**                       | `cast call 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 "owner() returns (address)" --rpc-url http://127.0.0.1:8545`                                   |
| **ç®¡ç†è€…ãƒªã‚¹ãƒˆç¢ºèª**                             | `cast call 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 "getAdmins() returns (address[])" --rpc-url http://127.0.0.1:8545`                             |
| **ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª** | `cast call 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 "UPGRADE_INTERFACE_VERSION() returns (string)" --rpc-url http://127.0.0.1:8545`                |
| **ç®¡ç†è€…ã‹ç¢ºèª**                                 | `cast call 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 "isAdmin(address)" 0x70997970C51812dc3A010C7d01b50e0d17dc79C9 --rpc-url http://127.0.0.1:8545` |
| **Owner ç§»è»¢**                                   | `cast send <0xProxyContractAddress> "transferOwnership(address)" 0xNewOwnerAddress --rpc-url <rpc> --private-key <your_private_key>`                 |

---

### ğŸ”¹ SVG ãƒ‡ãƒ¼ã‚¿ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

| æ“ä½œèª¬æ˜                               | ã‚³ãƒãƒ³ãƒ‰                                                                                                                                                                                                                |
| -------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **SVG ãƒãƒ£ãƒ³ã‚¯è¿½åŠ **                   | `cast send 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 "addSvgChunk(uint256,uint256,bytes)" 1 0 ABCDEF --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 --rpc-url http://127.0.0.1:8545` |
| **SVG ãƒãƒ£ãƒ³ã‚¯ä¸€æ‹¬è¿½åŠ ï¼ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼‰** | `forge script script/AddSvgChucks.s.sol:AddSvgChunksScript --rpc-url anvil --broadcast -vvvv`                                                                                                                           |

---

âœ… **èª¬æ˜ï¼š**

ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã™ã¹ã¦ãƒ­ãƒ¼ã‚«ãƒ« Anvil ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§å®Ÿè¡Œå¯èƒ½ã§ã€`NitchuGakuinCollections` ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»ç®¡ç†ãƒ»ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã®å‹•ä½œç¢ºèªã«ä½¿ç”¨ã§ãã¾ã™ã€‚

---

**ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã§ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆæ¤œè¨¼**

`forge verify-contract ImplementationAddress src/NitchuGakuinCollectionsV1.sol:NitchuGakuinCollectionsV1 --chain CHAIN_ID`

---

**ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã§ã®ãƒ—ãƒ­ã‚­ã‚·ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆæ¤œè¨¼**

`forge verify-contract PROXY_ADDRESS lib/openzeppelin-contracts-upgradeable/lib/openzeppelin-contracts/contracts/proxy/ERC1967/ERC1967Proxy.sol:ERC1967Proxy --chain CHAIN_ID`
