// SPDX-License-Identifier: MIT
pragma solidity ^0.8.30;

import {Script, console} from "forge-std/Script.sol";
import {INitchuGakuinCollections} from "../src/interfaces/INitchuGakuinCollections.sol";

/**
 * @title 日中学院数字藏品添加 SVG 数据块脚本
 * @dev 用于向指定藏品上传 SVG 数据块
 * @author Mo Kaiko
 */
contract AddSvgChunksScript is Script {
    struct NetworkConfig {
        string rpcUrl;
        uint256 deployerPrivateKey;
        address proxyAddress;
    }
    mapping(uint256 => NetworkConfig) public networkConfigs;

    function setUp() public {
        networkConfigs[10] = NetworkConfig({
            rpcUrl: vm.envString("OP_RPC_URL"),
            deployerPrivateKey: vm.envUint("PRIVATE_KEY_ACCOUNT_1"),
            proxyAddress: 0x9d291c7a50A3bF0980E732890177FD4e0998E13a // ⚠️ 步骤 1/5, 使用 Optimism 部署的代理合约地址
        });
        networkConfigs[137] = NetworkConfig({
            rpcUrl: vm.envString("POLYGON_RPC_URL"),
            deployerPrivateKey: vm.envUint("PRIVATE_KEY_ACCOUNT_1"),
            proxyAddress: 0x627E2C31cB771cfCD1207A7322773BDc3593eE4d // ⚠️ 步骤 1/5,使用 Polygon 部署的代理合约地址
        });
        networkConfigs[31337] = NetworkConfig({
            rpcUrl: "http://localhost:8545",
            deployerPrivateKey: vm.envUint("ANVIL_PRIVATE_KEY_1"),
            proxyAddress: 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 // ⚠️ 步骤 1/5, 使用 Anvil 部署的代理合约地址
        });
    }

    function run() external {
        NetworkConfig memory config = networkConfigs[block.chainid]; // 自动获取当前链ID对应配置

        uint256 tokenId = 1; // ⚠️ 步骤 2/5, 要上传 SVG 的藏品 ID
        bytes memory chunk; // ⚠️ 步骤 3/5,  SVG 数据块 30K 以下，需要根据实际 SVG 数据进行分块并填充

        chunk =
            "<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"margin:auto\" viewBox=\"0 0 600 600\"><defs><linearGradient id=\"a\" x1=\"0%\" x2=\"100%\" y1=\"0%\" y2=\"100%\"><stop offset=\"0%\" stop-color=\"#fff8e1\"/><stop offset=\"100%\" stop-color=\"#fff\"/></linearGradient><filter id=\"b\" width=\"160%\" height=\"160%\" x=\"-20%\" y=\"-20%\"><feGaussianBlur in=\"SourceAlpha\" result=\"blur\" stdDeviation=\"4\"/><feOffset dx=\"5\" dy=\"5\" in=\"blur\" result=\"offsetBlur\"/><feMerge><feMergeNode in=\"offsetBlur\"/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter></defs><path fill=\"url(#a)\" d=\"M0 0h600v600H0z\"/><g id=\"d\" fill=\"#133098\"><path d=\"M539.8 1.6c.1.9.75 5.65 1.45 10.55.65 4.9 1.35 9.1 1.5 9.4.2.25-2.4.45-6.6.45l-6.9.05 1.35 1.15c.95.85 2.45 1.35 5 1.75 2 .35 4.35.7 5.2.85 1.45.2 1.6.45 1.95 2.45.4 2.7 1.1 2.9 1.55.5.2-1.25.8-2.05 2.05-2.8.95-.6 1.55-1.25 1.3-1.4-.2-.2-1.2-.95-2.15-1.65l-1.75-1.3-1.2-10.8c-1.1-9.55-1.3-10.8-2.1-10.8-.7 0-.85.3-.65 1.6M428.5 18.75c-11.05.6-33.65 1.3-66.7 2.15-8.9.2-14.55.55-14.65.85-.05.25.05.8.3 1.2.4.6 5.6.65 37.4.1 20.3-.3 48.15-.9 61.9-1.3 34.5-1 47.85-.95 63.5.25 15.85 1.2 16.25 1.2 16.25.25 0-.4-.1-.75-.2-.75s-2.95-.55-6.35-1.25c-5.35-1.1-8.3-1.35-21.45-1.75-20.4-.65-55.5-.5-70 .25m-101.75 3.1c-1.1.1-8.5.6-16.5 1.15-18.65 1.25-19.75 1.4-19.75 2.3 0 .55.9.7 4.15.7 8.2 0 50.3-2.4 50.85-2.85.15-.15-.2-.55-.7-.95-.75-.55-2.7-.7-8.5-.6-4.15.05-8.45.15-9.55.25m-66.45 3c-.15.2-.3.6-.3.95 0 .5 2.85.65 13.25.7 11.1 0 13.25-.1 13.25-.7 0-.35-.55-.85-1.25-1-1.6-.4-24.55-.35-24.95.05m27.35 0c-1.3.5-.65 1.65.85 1.65 1.15 0 1.5-.2 1.5-1 0-1-.95-1.25-2.35-.65M222.5 26.8c-13.9.9-37.05 2.45-51.5 3.5l-26.25 1.8-7.25-.85c-10.2-1.2-26.7-1.5-38.9-.75-9.2.6-11.4.95-10.2 1.7.25.15 6.25.5 13.4.8 7.1.3 17.55 1 23.2 1.5 12.2 1.2 17.8 1.25 27.5.3 4-.4 13.45-1 21-1.3 21.5-.85 35.45-1.85 59.5-4.25 27.2-2.7 26.5-2.65 26.5-3.55 0-1.05-7.65-.85-37 1.1\"/><path d=\"M543.25 32.85c1.8 13.95 1.95 21.9.8 38.55-1.6 21.95-2 28.6-3.55 58.85-.85 15.65-1.85 34.1-2.25 41-.75 12.5-2.25 51.35-2.25 59.1 0 3.25.15 4.15.7 4.15.4 0 .85-.4 1-.9.65-2.05 1.25-8.4 1.55-15.6.15-4.25 1.05-19.35 2-33.5 3.55-53.75 4.2-70.25 4.3-111 .05-18.3-.05-34.15-.25-35.25-1.05-5.85-1.4-7.25-1.85-7.25-.25 0-.35.85-.2 1.85m-462-.5c-1.1.4-4.15 1.05-6.85 1.4-9.5 1.3-13.9 2.3-13.9 3.1 0 1.2 13 .4 15.75-.95 1.1-.6 2.1-1.15 2.25-1.35.15-.15 1.05-.3 2.05-.35 3-.1 4.55-.65 4.35-1.6-.2-1.1-1.25-1.2-3.65-.25m180.9 8.7c-.9.9-.8 5.1.1 7.3.4.95 1.75 2.65 2.95 3.7 1.25 1.1 2.45 2.7 2.7 3.6.3.85.65 8.7.8 17.4.3 15.15.95 25.95 2.55 43.05.95 10.05 1.05 13.8.4 14.45-.3.3-2.3.75-4.45 1-2.2.25-8.7 1.3-14.55 2.4-5.8 1.1-14.45 2.6-19.15 3.25-4.7.7-9.55 1.7-10.75 2.25-3.95 1.75-9.75 7.9-9.75 10.35 0 1.6 1.15 2.1 6.65 2.75 8.4 1.05 14.3-.6 19.55-5.5 3.75-3.5 4.75-4.05 7.3-4.05 2.4 0 9.25 2.1 12.85 3.9 1.5.8 2.6 1.95 3.95 4.15 1.45 2.3 2.35 3.2 3.8 3.8 2.35.95 4.4 3.3 4.4 5.05 0 1.95-1.75 4.5-3.3 4.9-.75.2-7.9.1-15.9-.2-8-.35-25.35-.6-38.55-.65l-24-.1-6.5 1.85c-3.55 1.05-13.15 3.85-21.3 6.3-8.1 2.45-15.65 4.6-16.8 4.8-1.8.25-2.05.2-2.3-.8-.25-.95.15-1.25 3.05-2.6 1.85-.8 5.4-2 7.85-2.65 6.85-1.7 7.85-2.35 10.45-6.85 1.95-3.45 4.8-4.85 15.7-7.7 6.4-1.7 9.6-4.5 9.6-8.45 0-1.9.15-2.1 2.25-3.25 1.25-.7 2.25-1.4 2.25-1.55 0-.6-1.9-.85-23.5-3.2-13.9-1.5-21.8-2.6-22.9-3.1-1.75-.85-2.75-2.35-3.3-5.15-.2-.95-.55-9.65-.8-19.25-.6-23.2-1.15-26.05-7.55-39-6.2-12.7-14.95-22.2-20.35-22.25-2.15 0-3.9 1.55-7.05 6.25-4.8 7.05-4.65 9.25.75 14.45 2.8 2.75 3.3 4.2 2.15 6.35-.4.85-.25 1.25 1 2.4.8.75 1.65 2 1.8 2.7.35 1.25-1.9 42.45-2.55 47.25-.25 2-.55 2.3-5.2 5.85-2.75 2.1-5.2 4.2-5.5 4.75-.75 1.4-.6 6.75.3 10.5 1.8 7.8 10 19 18.55 25.45 1.45 1.05 4.2 2.55 6.15 3.35 1.9.75 3.5 1.5 3.5 1.65s-1.1 1.25-2.45 2.4c-4.8 4.15-8.55 10.15-13.05 20.9l-2.05 4.95 2.5 2.45c4.55 4.45 6.15 9.85 4.55 15.3-.25.95-.4 1.8-.35 1.85.2.2 11.8 1.6 16.65 2 3.75.3 4.15.25 5.2-.8.65-.65.95-1.4.75-1.9-.15-.45-.65-3.2-1.05-6.1-.9-6.55-1.4-8.15-3.5-11.15-.95-1.3-1.7-2.9-1.7-3.55 0-.85-.5-1.5-1.75-2.25-2.35-1.35-2.3-2.8.25-5.85 1.1-1.35 2-2.65 2-2.95 0-.25 1 1.3 2.15 3.55 1.2 2.25 3.45 5.5 5.05 7.25 3.35 3.75 12.6 16.7 18.4 25.85 2.25 3.5 4.5 6.9 5.1 7.5 1.6 1.8 4.2 2.95 8.15 3.55 5.05.75 8.35.05 9.7-2.1.5-.9.95-1.95.95-2.4 0-.9 4.4-1.5 17-2.45 6.75-.5 10.05-1.15 13.7-2.7 2.7-1.15 3.45-1.05 5.75.9 2.75 2.3 5 2.95 9.1 2.7 2.55-.2 4.05-.65 6.15-1.85 1.55-.85 2.95-1.55 3.2-1.55.45 0 4.85 10.35 5.4 12.6.45 1.95-.15 3.2-1.85 3.9-1.6.7-7.3.55-22.95-.5-7.05-.45-19.4.15-31.25 1.5-2.2.25-5.9.6-8.25.75-15.3 1.15-24.35 3.55-38 10-4.8 2.3-10.5 4.85-12.6 5.7-6.6 2.6-19.9 9.5-19.9 10.3 0 .9 1.1.95 3.5.25.95-.3 4.35-.75 7.5-.95 6.45-.5 5.8-.25 21.1-7.75 13.2-6.45 21.55-8.8 29.25-8.15 2.8.2 3.65.55 6.6 2.55 6.65 4.6 10.9 5.4 19.9 3.85 5-.85 8-1.05 17.25-1 6.1 0 13.95.2 17.4.4l6.25.3 5.05 3.15c4.1 2.5 5.45 3.1 7.2 3.1s2.35-.3 3.7-1.7c6.5-6.95 8.45-10.05 8.7-14 .5-7.8-2.65-14.45-11-23.2-3.25-3.35-6.1-6.55-6.4-7.1-.6-1.15-1.2-.75 9.75-6.95 7.4-4.2 8-4.45 8.15-3.4.1.75 1.2 1.75 3.5 3.15 4.9 3 4.75 3 7.2.2 1.95-2.2 2.75-4.05 7.6-17.6 3-8.35 5.65-15.55 5.9-16.05.25-.45 1.55-1.4 2.9-2.1 4.15-2.1 4.25-2.85 1.3-10.85-2.95-8.1-4.95-11.05-8.5-12.45-.85-.35-1.65-.7-1.7-.75-.1-.05.45-1.1 1.3-2.3 3.4-5 4.25-7.3 4.6-12.9.25-4.2.7-6.35 2.25-10.9 2.1-6.25 2.05-7.8-.25-8.9-4.1-1.85-5.25-2.6-6.1-3.7-.6-.8-1.6-4.8-2.85-11-4.05-20.65-4.05-22.75.3-25.7 1.65-1.15 2-1.8 3.55-6.65 2.75-8.75 2.4-12.8-1.6-18.85-.9-1.4-2.75-5-4.1-8-3-6.8-5.3-9.8-8.8-11.5-3.2-1.55-7.85-2.2-8.75-1.25M259.5 177c8.1 2.1 9.55 2.8 11.4 5.5 1.35 2 1.4 4.4.35 14.8-1.4 13.45-1.7 14.4-5 16.6-2.55 1.7-20 5.6-25 5.6-1.85 0-2.45-.35-5.15-2.8-1.7-1.55-3.1-2.95-3.1-3.1 0-.2 2.15-1.65 4.8-3.3l4.8-2.95 3.3.3c1.85.15 4.7.45 6.4.65l3 .3.6-1.95c1.45-4.85.25-7.6-5.65-12.95-2.45-2.15-5.85-5.25-7.6-6.85C239.5 184 237.8 183 236 183c-1.4 0-4.35 2.75-5.35 5.05-.7 1.6-1.1 1.95-1.9 1.75-8-1.95-24.15-2.15-34.25-.4-8.75 1.5-30.45 6.85-31.3 7.75-.15.15.15 1.15.6 2.3 1 2.5 2.8 4.05 4.8 4.05 1.15 0 3.95 2.15 13.9 10.55 6.9 5.75 12.5 10.6 12.5 10.7s-1.5.65-3.3 1.25c-4.15 1.25-11.3 1.35-15.25.2-8.2-2.45-15.9-8.05-26.1-18.9l-4.85-5.25 9.75-5.55c7.15-4.1 10.15-6.1 11.15-7.4 3.85-5.15 9.6-8.85 15.85-10.1 3.95-.8 7.1-.35 10.35 1.45 4.7 2.65 8 3.2 17.9 2.95 5.35-.15 9.25-.5 10-.85.7-.35 1.95-1.6 2.85-2.75 1.55-2.1 3.95-3.6 6.9-4.35.85-.2 6-.35 11.5-.4l10-.05zm-36.7 19.05c6.55 1.2 6.6 1.3 2 5-7.8 6.3-17.4 9.1-27.45 8-4.15-.5-10.5-2.15-11.5-3-.35-.35 13.55-7.3 17.7-8.8 2.65-.95 8.85-2.15 11.65-2.2 1.1-.05 4.5.4 7.6 1m6.5 24.05 2.25 2.1-1.8.95c-4.7 2.4-17.6 5.85-24.75 6.6l-3.25.35 1.4-1.5c2-2.1 5.8-4.05 9.5-4.8 3.45-.75 4.85-1.4 8.6-4 3.5-2.45 5.15-2.4 8.05.3M433.25 48.05c-5.45.85-10.45 2.05-12.4 3-1 .55-6.85 3-12.95 5.5-13.3 5.45-15.8 6.65-25.55 12.65-14.15 8.65-18.75 12.3-20.8 16.5-.85 1.65-1.65 3.6-1.75 4.3-.15.7-1.5 2.7-3 4.5-1.55 1.8-3.95 4.8-5.4 6.65-2.45 3.25-2.7 3.4-4.25 3.1-1.5-.25-1.75-.1-3.25 2-.9 1.2-2.75 4.1-4.15 6.3-2.15 3.6-2.45 4.4-2.45 6.75.05 2.7 1.65 6.2 3.5 7.75 1.6 1.3 3.6 6.4 3.95 9.9.4 4.2 1.5 7.25 2.95 8.2.6.4 2.4 1.9 3.95 3.35l2.8 2.6 3.05-1.9c2.9-1.8 3.1-1.85 4.95-1.2 1.1.35 2.3.5 2.75.35.4-.15 1.75-1.85 3-3.75 1.25-1.85 2.75-3.85 3.3-4.35.9-.8 1.1-.85 1.75-.2s.6 1.8-.3 9.3c-.55 4.75-.95 10.5-.85 12.75l.15 4.15 2.7-8c6.05-18 9.6-23.55 24.65-38.8 9-9.1 13.85-12.5 19.15-13.5 5.6-1 10.4.75 23.3 8.55 4.1 2.5 9.8 5.65 12.7 7.05 6.7 3.2 8.35 5 11.25 12.3 4.6 11.75 6.5 23.25 5.05 30.75-.75 3.85-3.1 9.6-4.75 11.65l-1.25 1.5-2.55-2.5c-1.45-1.4-3.4-3.7-4.35-5.15-1.95-3-3.9-4.4-6.85-4.85-3.35-.5-7.9-2.05-19.9-6.8-8.3-3.3-11.5-4.8-12.1-5.65-.6-.95-5.2-3.15-5.55-2.65-.05.05-1.9 3.65-4.1 7.95l-4.05 7.85.7 4.1c.4 2.25.85 4.25 1 4.5.1.25-.6.85-1.65 1.4-1.05.5-3.3 2.2-5 3.7s-3.55 2.9-4.05 3.1c-2.4.75-1.6 3.5 1.8 6.1 2.6 2 4.85 2.65 9.1 2.65 11 .05 25.8 4.4 39.65 11.65 6.85 3.6 7 3-1.4 7.15-8.65 4.25-12.8 4.95-21.2 3.45-6.55-1.15-10.5-1.15-13-.05-1.55.75-2.05 1.2-1.9 1.85.2.8 0 .9-2.1.65-2.25-.3-4.05-1.6-4.05-2.95 0-1.15-2.75-3.4-6.35-5.1-2.15-1-4.95-2.95-7-4.8-1.85-1.75-5.75-5.05-8.65-7.45-6.75-5.5-9.2-8.1-10.45-10.9-.55-1.25-1.7-2.95-2.55-3.75-.9-.85-2.15-2.55-2.8-3.85-1.3-2.55-1.15-2.45-8.2-4.1-4.6-1.1-5.85-1-7.35.5-1.25 1.25-1.3 1.45-1 5.75.35 4.7 1.1 7.2 2.55 8.4s2.2 3.15 3.25 8.4c1.25 6.15 2.5 9.6 6.65 17.9 4.3 8.55 5.6 11.65 7.35 17.8.85 2.9 2.15 6 2.95 7.15s2.65 4.35 4.1 7.2c4.6 8.85 11.45 15.1 22.45 20.5l5.8 2.85 5.25-.05c8-.05 18.65-2.4 28.15-6.25 12.6-5.05 22.25-8.45 25.5-8.9 2.9-.4 6.95-.1 8.95.7.55.2 1.75-.15 3.15-.95 3.4-2 11.8-8.85 13.35-10.9 1.45-1.9 8.75-19.35 11.95-28.65 2.6-7.5 5.6-17.95 7.25-25.1 1.05-4.65 1.35-7.2 1.4-12.15 0-5.85-.15-6.75-2.1-14.1-2.3-8.45-3.55-15.05-6.35-33.4-1.95-12.5-2.55-15.45-4.6-21.75-1.65-5.1-3.75-9.3-6.2-12.55-2.6-3.4-3.8-6.3-4.45-10.75-1.4-9.35-5.15-16-12.15-21.25-1.7-1.3-4.8-4-6.95-6-3.65-3.45-4.05-3.7-9.25-5.35-7.45-2.45-17.25-4.85-19.25-4.8-.9.05-3 .25-4.65.5\"/><path d=\"M76.3 49.6c-.15.65-.75 6.65-1.35 13.4-1 11.35-1.05 13.65-.65 31.5.95 41.3.1 137.95-1.35 153-.25 2.9-1.4 11.55-2.45 19.25-3.25 22.9-4.55 37.5-4.4 48.5.2 17.5.15 27.4-.3 41.5l-.45 14.05 1.25 2.45c2.3 4.55 3.1 7.75 3 12 0 2.2-.05 14.35-.05 27 0 28.35-.45 36-2.5 43.5-1.55 5.5-3.15 16.3-6.05 39.75-3.35 27.45-3.35 42-.05 71.75.75 6.85 1.35 12.55 1.3 12.6-.05.1-2.7-.2-5.9-.55-6.65-.85-9.2-1.9-11.1-4.65l-1.25-1.9v2.9c0 5.1 0 5.1 11.15 6.05l7.1.55.15 6.15c.05 3.35.3 6.1.55 6.1.2 0 1.15-2.4 2.05-5.35.85-3 1.75-5.6 2-5.8.2-.2 3.9-.6 8.3-.85 4.35-.3 9.1-.6 10.45-.75 1.4-.15 14.45-.4 29-.55 14.6-.1 30.35-.5 35-.75 4.7-.3 15.05-.65 23-.8 15.6-.25 37.5.75 82.75 3.85 11.95.85 34.35 2.25 49.75 3.2l28 1.7 9.75-.95c21.75-2.05 30.15-2.1 47.25-.25 4.95.55 17.35.95 42.25 1.3 19.4.25 43.25.75 53 1 9.75.3 19.25.5 21.1.5h3.35l-1 2.85-.95 2.85 1.1 1.15c1.95 2.1 3.3 1.35 4.1-2.35.6-2.95 1-3.1 9.75-3.75 4.45-.35 8.25-.75 8.4-.95.8-.8-.95-1.05-7.9-1.2-4.1-.1-7.45-.3-7.45-.4s1-6.4 2.25-14.05c14.85-90.8 15.65-96.25 16.1-114.4.15-6.35.15-11.4 0-11.25s-2.2 8.1-4.6 17.75c-9.9 40.05-12.35 52.35-19.45 96.65-2.05 12.75-3.8 23.25-3.9 23.3-.1.1-3.5-.05-7.65-.25-18.45-.95-35.55-1.55-62.25-2.2-18.1-.45-33.95-1.15-42.75-1.8-16.2-1.25-33.55-1.45-73-.75-18.3.35-27.4.3-34-.15-10.85-.7-43.65-3.25-55.75-4.3-12.45-1.1-39.15-1.5-55.25-.8-47.1 2-88.65 4.25-89.25 4.85-.25.25-4.85.4-10.2.3-9.65-.15-9.8-.15-10-1.25-.15-.6-.6-8.65-1.1-17.85-.9-18.25-.75-32.85.55-57 1.5-27.05 2.25-33.9 5.1-47.5l1.85-8.75.05-37.5c0-34.9.05-37.6.9-38.75 1.2-1.7 1.1-2.35-.8-4.7-3.6-4.5-4.1-5.7-4.1-10.3 0-8.6.85-24.9 1.55-29.9.95-6.8.9-12.95-.15-16.8-.8-3-.75-3.45.75-16.05 3.45-28.15 5.05-49.25 6.15-79.5.45-12.4.45-20.8.05-33.75-.55-15.95-.45-82.75.15-119.15.1-8.35 0-13.85-.25-13.85s-.6.5-.7 1.1m146.4-.6c-1.35.55-4.65 4.45-8.9 10.65-1.85 2.7-3.65 4.8-3.95 4.7-.35-.1-5-1.5-10.35-3.1-9.45-2.75-12.3-3.15-13.55-1.9-.55.55.45 4.15 1.45 5.3.45.55 4.05 3.2 8 6 5.4 3.85 6.95 5.2 6.45 5.6-3.4 2.6-23.35 18.9-23.85 19.5-.8.95-1.1.95-3.35 0l-1.8-.75 1.3-1c.7-.55 1.4-1.4 1.55-1.9.15-.45 1-1.25 1.8-1.7 2.5-1.4 3.15-3.75 2.45-8.3-1.35-8.85-1.7-9.25-10.1-10.7-6.4-1.1-11.4-1-16.25.35-3.2.9-5.6 2.9-5.6 4.6 0 1.55 8.55 9.3 13.4 12.1 2.5 1.5 4.6 2.75 4.6 2.85 0 .05-1.2.8-2.7 1.6-3 1.7-4.8 3.7-4.8 5.3 0 .55.6 2.3 1.3 3.8s1.7 4.1 2.15 5.75c.8 2.85 5.65 11.8 7.3 13.45.7.7.95.65 2.4-.2l1.65-1 1.7 2.25c.95 1.25 1.85 2.1 2.05 1.9.15-.25 2.7-3.65 5.65-7.6 3.55-4.75 5.3-7.55 5.2-8.25-.1-.55-.95-1.5-1.9-2.05-1.9-1.1-7-6.2-7-7 .05-.5 5.6-3.9 6.3-3.85.2 0 1.65 2.9 3.2 6.45l2.85 6.4 4.7 1.6c2.6.9 5.15 1.7 5.7 1.85.85.25.05 1.2-4.9 6-4.4 4.3-6.2 6.4-7.1 8.4-1.1 2.5-2.2 7.4-1.6 7.4 1.25 0 4.05-2.5 5.3-4.7 1.6-2.85 11.1-12.1 13.45-13.15 1.5-.65 3.25-.4 4.95.7.85.55 9.2 9.85 14.7 16.35.6.65 3.85-1.7 4.5-3.25.8-2-.5-4.1-7.95-13.05l-6.45-7.7 4.7-2.75c6.25-3.6 6.95-4.15 8.4-6.65 1.45-2.45 2.1-7.35 1.3-9.45-.45-1.2-.8-1.35-2.9-1.35l-2.4-.05-2.85-4.1c-1.6-2.25-4.45-6.4-6.35-9.15l-3.5-5.1 3.3-2.85c3.15-2.85 5.75-4.2 8-4.25 1.45 0 4.15-3.65 4.15-5.5 0-1.5-2.55-6.75-3.9-8.1-.6-.55-1.15-.7-1.9-.4m-14.55 31.1c.6.3 2.7 1.75 4.6 3.2 1.95 1.45 5.2 3.45 7.25 4.5s3.85 1.95 3.9 2c.6.45-12.45 16.95-13.4 16.95-.25 0-1.85-1.9-3.65-4.25-3.5-4.65-4.9-5.9-9.95-8.7-1.85-1.05-3.5-2.05-3.65-2.3-.4-.6 11.85-12 12.9-12 .5 0 1.4.25 2 .6m30-9.1c-2.9 1.75-2.85 5.25.05 9.7 2.5 3.75 5.15 5.45 8.7 5.65 3.35.2 4.85-.45 6.45-2.8.95-1.4 1.15-2.4 1.15-5.35 0-3.15-.15-3.8-1.25-5.1-1.05-1.3-1.9-1.6-5.65-2.3-5.65-1.05-7.5-1-9.45.2m-1.9 32.95c-2.3 1-3.75 4.2-3.75 8.3 0 2.6 1 4 3.95 5.5 1.35.65 4.6 2.55 7.2 4.2 7 4.45 9.05 5.35 10.45 4.7.65-.3 1.55-1.3 2.05-2.2 1.2-2.5 6.3-13.8 7.4-16.55l.9-2.35-2.6-.25c-3.35-.35-16.55-1.35-21.1-1.6-1.9-.1-3.95 0-4.5.25\"/><path d=\"M237.05 280.55c-.85 1.2-2.6 2.95-3.9 3.95-3.9 2.95-4.4 3.95-4.35 8.65.05 4.15 1.5 12.35 4.3 24.1 2.55 10.85 2 15.1-2.25 17.35-1.85 1-2.85 1.1-8.6 1.15-7.8 0-9.4.65-13.8 5.3l-2.8 2.95H194.5c-10.4 0-11.1-.05-10.75-.9.25-.45 1.3-3.2 2.4-6.1 1.85-4.9 2-5.75 2.35-12.25.3-5.85.65-7.8 1.95-11.8.85-2.65 1.55-5.45 1.55-6.3 0-1.95-2.4-6.6-4.1-7.8-1.8-1.35-3.15-.9-7 2.2-5.7 4.6-5.85 4.65-15.4 4.15-12.8-.7-30.7-.05-44.5 1.55-7.25.85-9.85 2.05-11.55 5.35-.85 1.65-1 2.6-.75 5.1.15 1.65.45 5.75.7 9.05.2 3.3.6 6.3.8 6.7.25.35 1.45 1.1 2.75 1.65 1.25.5 2.7 1.35 3.25 1.8 2.3 2.15 5.3 10.55 5.3 15.05 0 2.05-.4 3.6-1.5 5.95-1.85 3.9-4.5 14.45-4.5 17.8 0 1.4.35 5.25.75 8.55 1.4 11.8.75 22.5-2 31.2-1.05 3.35-1.25 4.65-1 6.75.55 3.85 2.2 12.4 2.5 12.7.55.55 1.7-1.1 2-2.9.2-1.05.6-2.3.95-2.8.65-.85.7-.85 1.2.1.25.5 1 3.5 1.6 6.65 1.35 6.8 1.2 11.2-.7 22.75-.85 5.05-1.1 7.75-.75 8.35.25.5.45 2.9.45 5.4 0 2.45.2 5 .4 5.65.9 2.4-1.1 20.55-2.65 24.2-.7 1.7-3.05 3.2-5.1 3.2-.5 0-1.5.95-2.3 2.2-1.15 1.85-4.25 4.8-5 4.8-.15 0-.5-.65-.8-1.45-.6-1.35-.35-4.15.8-9.05.3-1.25.3-1.25-.75-.3-.6.5-3.05 4.1-5.45 7.95s-4.9 7.65-5.55 8.45l-1.2 1.4h1.2c.6-.05 3.35-.35 6.05-.7 2.65-.35 4.95-.5 5.1-.4.15.15.25 1.45.25 2.85 0 3-1.1 6.5-3.65 11.55-2 4-4 9.5-3.75 10.5.1.45 2.7-.4 9.1-3.05 4.9-2.05 9-3.75 9.1-3.75s.2 1.5.2 3.3c0 5.55.5 6.05 10.4 9.9 4.6 1.8 8.8 3.3 9.3 3.3.55 0 2.8-1.85 5-4.15 3-3.05 4.55-5.05 5.9-7.85 3.55-7.4 3.6-7.75 3.65-23.25.05-8.4.3-15.2.65-17 .3-1.65.9-5.3 1.3-8.1 1.4-9.4 1.15-9.3 21.05-12.4 6.3-.95 11.6-1.95 11.8-2.15.15-.2 1.8-5.85 3.65-12.6 3.75-13.75 4.5-15.85 6-16.3.6-.2 2.75-.4 4.8-.4 4.25-.05 5-.45 10.45-5.4l3.1-2.8-2.65-1c-4.85-1.75-26.85-3.6-43.55-3.6-14.2 0-15.35-.25-15.35-3.15 0-.9.3-2 .65-2.45.65-.9 8.45-3.5 12.85-4.3 1.5-.3 4.65-.7 7-.85 7.4-.6 11.9-2.85 14.5-7.35.8-1.45 2.5-5.4 3.8-8.8 2.3-6 2.45-6.25 5.3-8.4 1.6-1.25 2.9-2.15 2.9-2.05s1.8 4.3 4 9.35c2.65 6.1 4.5 9.75 5.6 10.85 1.75 1.8 6.95 4.65 8.5 4.65.5 0 5.1-1 10.25-2.25 5.1-1.25 9.45-2.25 9.7-2.25.6 0 .55 6.2-.05 14.3-.9 11.6-4 20.45-9.35 26.75-5.4 6.35-13.9 15.05-17.15 17.5-6.35 4.8-13.3 13.8-15.75 20.35-4.85 12.85-9 18.95-18 26.35-2.75 2.3-6.25 5.4-7.75 6.95l-2.7 2.8h3.45c7.3 0 18.45-3.8 22.05-7.55 1.6-1.65 15.65-21.05 23.15-31.95 2.85-4.15 9.75-12.8 16.1-20.2l11.15-12.95 3.6 3.95c4.75 5.15 5.15 6.15 3.85 8.85-.55 1.15-2.8 4.35-4.95 7.05-6.3 7.95-13.05 17.3-14.7 20.4-2.15 4.05-3.35 9.3-4.05 17.8-1.05 12.85-.1 14.35 14 21.85 7.7 4.1 8.85 4.6 10.3 4.25.95-.2 3.55-.2 5.8.05 5.9.6 7.8.1 11.1-3l1.4-1.3 7.85.25c12.5.4 17.95.25 18.8-.45.55-.45.8-1.5.8-3.05 0-2.45.8-3.7 2.05-3.3 3.05.95 3.3.85 3.65-1.2.6-3.8 6.55-9.7 20.2-19.9 3.35-2.55 6.1-4.9 6.1-5.25-.05-1.7-.7-1.75-7.65-.55-7.2 1.25-10.65 2.3-18.15 5.65-5.35 2.35-10.85 3.5-18.5 3.9q-14.775.75-26.25-6.15c-9.15-5.55-12.3-9.35-11.85-14.2.35-3.3 1.8-5.25 6.05-8.25 5.85-4.15 8.5-9 8.55-15.75.05-6.2-2.8-10.85-10.65-17.5-5-4.25-5.25-5-5.3-14.25 0-6.9.1-7.8 1.3-11 4-10.6 4.05-10.9 4.05-14.85v-3.8l3.3-.35c1.85-.15 5.45-.45 8-.65l4.65-.4-.3 1.3c-.15.7-.4 1.65-.55 2.2-.25.8-.1.85 1.4.55.9-.15 2.9-.9 4.4-1.65 3.1-1.5 4.85-3.7 5.3-6.7.3-1.8.55-2.05 4.25-3.95 2.15-1.1 4.25-2.55 4.65-3.2 1.3-2 2.75-7.05 4.7-16.65 1.4-6.75 2.05-8.95 2.45-8.55.35.35 1.3.45 2.6.2 1.7-.3 2.35-.75 3.5-2.4 3.3-4.85 3.9-7.8 2.05-10.6-.55-.85-3.55-4-6.7-7-5.85-5.65-5.8-5.55-7.05-10.95-.45-2.2-3.2-4.65-5.55-5.05-1.05-.15-3.35-.75-5-1.3-3.65-1.15-4.5-.95-8.25 2.05-1.4 1.1-3.05 2.15-3.65 2.3-1.3.3-15.65-2.5-18.15-3.55-1.35-.55-1.65-1-1.65-2.2 0-1.1.5-1.85 2.05-3.1 1.15-.9 2.4-2.35 2.75-3.3 1.85-4.4-.3-27.25-3.55-37.55-1.1-3.45-4.4-9.8-6-11.5-.5-.55-.9-.3-2.2 1.45m-86.8 56.9c6.5.75 9.6 1.35 13.15 2.55 3.8 1.3 4.65 1.8 4.5 2.55-.15.85-.9.9-9.6 1.15-11 .3-11.25.2-15.8-4.4-3.2-3.3-3.85-3.1 7.75-1.85m110.3 10.85c2.6.45 6.5 1.35 8.65 2.05l3.95 1.25-.35 12.05c-.4 13.65-.9 19.45-2.35 26.35-.75 3.65-.9 5.7-.65 8.85l.3 4.05-15.15.25c-11.85.15-16.75.45-22.2 1.25-3.85.55-8.4 1.15-10.1 1.35l-3.1.35 1-2.55c.5-1.4.95-3.4.95-4.45 0-2.05-1.85-6.45-3.15-7.55-.7-.55-.85-1.6-.85-5.15 0-2.45-.25-4.9-.55-5.45-.25-.55-1.7-1.5-3.15-2.15-4.75-2.1-6.2-4.8-7.3-13.55-.3-2.2-.65-4.8-.8-5.75-.15-1.1 0-2.1.45-2.7.8-1.05 23.8-7.35 31.1-8.5 6.3-1 17.5-1 23.3 0m-79.7 7.3c.35.45.05 2.25-.95 5.65-1.65 5.7-2.4 7.1-4.3 7.8-.7.3-7.9.75-15.95 1.05-13.45.55-14.75.5-15.5-.25-.45-.45-.7-.95-.5-1.15.15-.2 2.25-.6 4.6-.95 2.4-.35 4.4-.75 4.5-.85s-.05-1.15-.35-2.3c-.3-1.2-.4-2.25-.25-2.4.4-.45 25.5-7.1 26.9-7.15.75 0 1.55.25 1.8.55m16.65 21.7v11.5l-25.45.65c-22.9.55-25.6.55-26.95-.15-.85-.45-1.7-1.05-1.85-1.35-1.25-2 9.2-7.6 18.6-10 6.05-1.55 8.45-1.65 11.9-.4 1.25.45 3 .35 8.55-.45 6.55-.95 7-1.1 8.3-2.55 1.05-1.15 1.4-2.1 1.4-3.6 0-1.9 1.25-7.6 1.85-8.65.15-.25 1.05.45 1.95 1.5l1.65 1.95zm-19.7 25.85 1.35 1.15-.9 4c-1.1 5.05-2.35 7.9-3.9 8.95-1.8 1.15-21.4 1.25-23.7.1-1.85-.95-3.05-3.7-3.45-7.8l-.3-2.9 2.9-1.05c6.3-2.25 13.55-3.5 21.3-3.55 4.9-.05 5.45.05 6.7 1.1m3.45 52.05c.4 1.35.75 3.15.75 3.9 0 2.4-1.5 9-2.55 11-1.65 3.25-2.4 3.4-15.7 3.4H152v-2.8c0-1.55-.35-4.2-.8-5.9-1.05-4.05-.75-8.2.7-10.05 2.35-3 2.35-3 15.35-3.25 13.55-.3 12.75-.5 14 3.7\"/><path d=\"M224.75 357.7c-3.05.9-4.9 3.9-5.15 8.2-.25 4.35.85 8.6 3.75 14.5 2.15 4.45 5.95 9.1 7.35 9.1.35 0 1.35-.55 2.25-1.2l1.65-1.25 2.5 1c1.35.5 2.85.95 3.4.95 1.15 0 2.55-1.9 2.6-3.6.05-2.35.95-4.25 2.3-4.95.85-.45 3.2-.7 6.6-.7l5.25-.05 1.35-4.45c.75-2.45 1.35-4.5 1.25-4.55-.05-.1-3.05-.95-6.6-1.95-15.05-4.2-16-4.6-19.7-7.8-3-2.6-5.4-4.05-6.45-3.9-.2 0-1.25.3-2.35.65m183.6-62.6c-1.45 14.2-3.55 31.65-5.5 44.9l-1.1 7.75-28.85.15-28.9.1-.2-1.1c-.15-.65-.95-7.1-1.8-14.35-.8-7.3-1.6-13.3-1.7-13.4-.1-.15-.35.7-.55 1.85-.25 1.5-.65 2.2-1.5 2.5-1.8.7-3.15 2.8-3.5 5.65-.85 6.5-1.9 8-6.3 8.55-3.1.4-4.3 1-4.7 2.25-.15.5.4 3.55 1.25 6.75 1.85 7.2 1.9 10.6.25 16.55-.65 2.45-1.55 6.75-2 9.5-1.5 9.9-1.8 11.2-3.1 12.55-1 1.1-1.55 1.25-3.35 1.1l-2.15-.15-.85 5c-1 6.1-1.05 6.5-.35 19.25.55 11 .95 13.4 2.75 16.95 1.7 3.4 10.2 16.8 11.45 18.05 2.1 2.05 10.3 6.5 12.6 6.85 4.8.65 9.05-2.45 10.5-7.75 1.6-5.65 1.85-6.1 3.9-7.75 3.9-3.1 5.8-3.45 8.4-1.7l1.7 1.2 3.75-1.9c2.05-1 5.55-2.25 7.75-2.7 3.45-.7 12.75-1.7 16.05-1.75 1 0 1.1.5 1.95 8.6.9 8.8 2.05 14.6 3.5 17.4 1.3 2.55 4.25 5.5 6.8 6.75 2.8 1.45 4.8 3.7 5.25 5.95.15.95-.2 6.05-.8 11.35-.55 5.35-1.35 16.45-1.75 24.7-.45 8.9-1.15 17.55-1.75 21.25-1.85 11.65-1.8 23 .2 37.5l.55 4.25 2.15-3.95c1.2-2.2 3.45-5.45 5.05-7.25s3.5-4.2 4.2-5.3c3.45-5.3 4.6-13.4 2.95-20.75-4.8-20.95-5.95-29.9-5.1-39.8.55-6.8 1.2-10.05 3.05-16.05 1.7-5.65 1.85-9.45.45-12.55-.55-1.25-3.3-4.6-6.5-7.85-6.7-6.95-8.25-9.25-9-13.65-1.05-5.85 1.05-11.8 4.95-13.8 1.65-.9 8.15-1.8 23.8-3.35 9.15-.9 12.95-1 22.75-.8 6.7.15 13.9.6 16.75 1.05 7.7 1.2 11.4 1.05 17.6-.75 6.35-1.8 8.25-2.85 9.35-5.15 1.25-2.65 1-3.6-1.7-6.2l-2.5-2.4v-3.5c0-3.35.55-6.25 1.45-7.65.25-.35 1.15-.75 2.05-.85 2.25-.25 2.9-.95 3.6-3.55.7-2.9 3.9-7.05 8.6-11.3l3.8-3.4v-3.6c-.05-4.9-.8-10.2-2.05-14.5-2.5-8.75-7.65-24.35-8-24.35-.2 0-.85.8-1.45 1.75s-1.4 1.75-1.8 1.75c-.9 0-.9-1.9.1-6.7.75-3.7.75-3.85-.25-5.25-1.5-2.1-7.55-7.55-8.4-7.55-1.7 0-8.15 4.65-8.15 5.85 0 .45.5 1.35 1.1 2l1.1 1.15-1.9 1.95c-2.65 2.7-2.6 3.75.4 7.8.3.4.05 1.65-.8 3.55l-1.25 2.95-31.3.15c-29.5.1-31.3.05-31.5-.75-.15-.5-2-15-4.15-32.3-3.75-30.4-3.9-31.35-4.95-31.35-1 0-1.1.5-2.4 13.6m72.15 83.65c0 10.85-.15 19.75-.35 19.75-.15 0-6.05-1.55-13.1-3.5-20.55-5.55-22.55-5.9-39.55-6.35-12.4-.3-13.65-.55-15.25-3.3-.85-1.35-1-2.55-1-7.7 0-8.1-.1-8 10.35-11 24.15-6.9 27.5-7.45 47.3-7.6l11.6-.05zm-138.9-9.7c5.7 1.4 16.25 1.75 30 .95 12.4-.7 23.85-.8 26.4-.25l1.65.35-.3 5.6c-.5 8.65-1.7 11.25-5.15 11.3-.95 0-1.95.45-2.7 1.25l-1.15 1.25 1.95.05c1.05 0 2.4.2 2.95.4.9.35.85.45-.45 1.3l-1.4.95 1.65 1.35c2.05 1.65 2 1.7-6.9 2.5-6.8.6-24.7.4-26.25-.3-.5-.2-.9-.8-.9-1.3 0-.9.6-.95 14.3-.95h14.3l-.3-1.15c-.15-.6-.3-1.75-.3-2.5v-1.4l-4.6.1c-4.05.15-11.25-.25-38.35-2-6.15-.4-6.25-.4-7.65-2L337 383v-7.5c0-4.15.1-7.5.2-7.5.15 0 2.1.45 4.4 1.05m101.65 26.7c7.2 1.95 7.75 2.1 17.85 3.75 7.45 1.25 9.8 1.85 12.65 3.25 7.9 3.8 7.05 4.35-2.7 1.75-18.15-4.85-26.05-6-44.15-6.45l-13.4-.3-1.85-1.9-1.9-1.95 14.25.25c13.6.2 14.45.3 19.25 1.6\"/><path d=\"M359.9 290.45c-5.55 1.9-10.1 4.2-11.1 5.65-1.95 2.75-.4 6.9 3.5 9.4 3.4 2.15 6.6 2.65 12.7 2 2.8-.25 7-.5 9.35-.5 4.65 0 5.3-.2 8.9-3.2 1.4-1.15 3.35-2.7 4.4-3.5l1.95-1.4-2.95-3c-3.8-3.9-6.85-5.3-12.45-5.95-9.5-1.05-9.65-1.05-14.3.5m-6.3 29.4c-.9.45-1.55 1-1.5 1.2.1.25 3.2 2.8 6.85 5.75 5.85 4.6 6.8 5.15 7.1 4.35.7-1.95 3.8-4.05 6.8-4.6 4.65-.9 7.95-2 8.8-2.95.8-.85.4-.95-8.05-2.3-4.85-.75-9.95-1.6-11.25-1.85-3.55-.65-6.9-.55-8.75.4m178.6 24.9c-.45 1.15.75 34.75 1.3 36.8.35 1.15.35 4.45.05 9-.25 3.95-.5 16.4-.5 27.7-.05 16.55.05 20.35.55 19.85s.7-4.9.8-18.5c.05-9.8-.05-18.7-.25-19.85-.2-1.1-.3-4.35-.15-7.25s.2-15 .05-26.9c-.15-17.9-.3-21.6-.9-21.6-.35 0-.8.35-.95.75m.8 97.35c.05 1.55.05 1.6.75.7.95-1.25.95-2.3 0-2.3-.5 0-.75.5-.75 1.6m-416.9.5c-.25.35-.75 2.55-1.1 4.9-.3 2.35-1.7 9.95-3.05 16.9-2.05 10.6-2.45 13.55-2.45 18.35 0 3.6.2 5.75.5 5.75.8 0 .85-.2 2.75-14.75 1.75-13.6 4.1-29.25 4.55-30.9.3-1-.45-1.15-1.2-.25m334.9 5.7c-4 .35-9.65.85-12.55 1.1-6.3.55-9.45 1.75-10.95 4.2-1.25 2.05-1.35 6.15-.2 7.8.4.6 2.75 2.15 5.2 3.35 2.45 1.25 6.5 3.55 8.95 5.2 8.1 5.3 12.8 6.2 18.9 3.55 2.5-1.05 2.65-1.05 5.25-.25 1.45.45 2.9.9 3.25 1.05.85.4 3-7.05 3.65-12.55.75-6.75.05-8.4-4.75-11.35-4.25-2.65-7.15-3-16.75-2.1m-20.2 46.8c-.5 1.85-.35 5.4.25 6.55.35.6 1.5 2.1 2.65 3.35s4.25 5 6.95 8.35c5.7 7.05 10.15 11.45 12.05 11.95 1.95.45 4.05-.1 8.05-2.1 6.2-3.2 8.75-6.65 8.75-11.85 0-3.7-.9-5.8-3.3-7.75-2.35-1.95-5.15-2.9-11.25-3.85-2.6-.4-8.75-1.85-13.7-3.25-4.95-1.35-9.25-2.5-9.55-2.5-.35 0-.7.5-.9 1.1m103.1 93.75c-1.05.1-1.9.4-1.9.7 0 .25 2.8.45 6.5.45 5.45 0 6.5-.1 6.5-.75 0-.6-.8-.75-4.6-.65-2.55.05-5.5.15-6.5.25\"/></g><use filter=\"url(#b)\" href=\"#d\" opacity=\".5\"/><use fill=\"#133098\" href=\"#d\"/></svg>";

        INitchuGakuinCollections proxy = INitchuGakuinCollections(config.proxyAddress);

        console.log("Adding SVG chunks to tokenId:", tokenId);
        (,,,,,, uint256 svgChunkCount, bool isSvgFinalized) = proxy.getCollectionInfo(tokenId);
        console.log("svgChunkCount Before", svgChunkCount);
        console.log("isSvgFinalized Before", isSvgFinalized);

        vm.startBroadcast(config.deployerPrivateKey);

        proxy.addSvgChunk(tokenId, 0, chunk); // ⚠️ 步骤 4/5, 上传 SVG 数据块 数字为第几个数据块，从 0 开始
        proxy.finalizeSvgUpload(tokenId); // ⚠️ 步骤 5/5, 如果上传的最后一个数据块，取消注释此行以完成 SVG 上传

        // console.log("SvgData After:", proxy.getSvgData(tokenId));
        (,,,,,, uint256 svgChunkCount2, bool isSvgFinalized2) = proxy.getCollectionInfo(tokenId);
        console.log("svgChunkCount After", svgChunkCount2);
        console.log("isSvgFinalized After", isSvgFinalized2);

        vm.stopBroadcast();
    }
}
